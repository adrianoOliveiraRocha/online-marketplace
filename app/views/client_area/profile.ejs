<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Área Administrativa</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <%-include('client_includes/index/links.ejs')%>
</head>
<body class="hold-transition skin-blue sidebar-mini">
<!-- Site wrapper -->
<div class="wrapper">

  <%-include('client_includes/header.ejs')%>

  <%-include('client_includes/left_side_column.ejs')%>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Meus Dados
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Início</a></li>
        <li class="active">Perfil</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">

      <!-- Default box -->
      <div class="box">
        <div class="box-header with-border">
          <h3 class="box-title">Formulário</h3>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip"
                    title="Collapse">
              <i class="fa fa-minus"></i></button>
            <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove">
              <i class="fa fa-times"></i></button>
          </div>
        </div>
        <div class="box-body">
          <!-- form start -->
          <form role="form" 
          action="/client_profile"
          id="form" 
          enctype="multipart/form-data"
          method="POST">
            <input type="hidden" name="userId" value="<%=user.id%>">
            <div class="box-body">
              <div class="form-group">
                <label for="name">Nome</label>
                <input type="text" class="form-control" id="name" name="name" required
                  value="<%=clientUser.name.trim()%>" placeholder="Nome">
              </div>
              <div class="form-group">
                <label for="email">E-Mail</label>
                <input type="email" class="form-control" id="email" name="email" required
                  value="<%=user.email.trim()%>" placeholder="E-Mail do Usuário">
              </div>
              <div class="form-group">
                <label for="phone">Telefone</label>
                <input type="tel" class="form-control" id="phone" name="phone" 
                  value="<%=clientUser.phone.trim()%>" placeholder="Telefone"
                  pattern="[0-9]{2}-[0-9]{5}-[0-9]{4}" required>
                  <p>Formato: XX-XXXXX-XXXX</p>
              </div>
              <div class="form-group">
                <label for="password">Senha</label>
                <input type="password" name="password" id="password" required
                class="form-control"
                value="<%=user.password.trim()%>">
              </div>
              <hr>
              <% if(user.image === null){ %>
							<div class="control-group">
								<label class="control-label" for="image">Imagem</label>
								<div class="controls">
								<input class="input-xlarge" name="image" type="file">
								</div>
							</div>
							<% } else { %>
              <div class="control-group">
                <label class="control-label">Imagem</label>
								<div class="controls">
								<img src="upload/user/<%=user.image %>" width="240px;">
								</div>
              </div>
              <hr>
							<div class="control-group">
								<label class="control-label" for="image">Substituir Imagem</label>
								<div class="controls">
								<input class="input-xlarge" name="image" type="file">
								</div>
							</div>
              <% } %>
              <hr>
              <div class="form-group">
                <label for="address">Endereço</label>
                <input type="text" class="form-control" id="address" name="address" 
                  value="<%=clientUser.address.trim()%>" placeholder="Endereço" required>
              </div>
              <div class="form-group">
                <label for="addNumber">Número</label>
                <input type="number" min="1" class="form-control" id="addNumber" name="addNumber" 
                  value="<%=clientUser.add_number%>" placeholder="Número" required>
              </div>
              
              
            </div>
            <!-- /.box-body -->

            <div class="box-footer">
              <button type="button" class="btn btn-primary"
                onClick='editProfile();'>
                Salvar
              </button>
            </div>
          </form>
        </div>
        <!-- /.box-body -->
        <div class="box-footer">
        <div class="control-group">
          <div class="controls"  id='messages'></div>
        </div>
        </div>
        <!-- /.box-footer-->
      </div>
      <!-- /.box -->

    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <%-include('client_includes/footer.ejs')%>

  
</div>
<!-- ./wrapper -->

<%-include('client_includes/index/scripts.ejs')%>
<script src="/admin/utilsUser.js"></script>
  
</body>
</html>
